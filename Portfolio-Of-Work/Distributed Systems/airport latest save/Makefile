
# This is a template Makefile generated by rpcgen

# Parameters

CLIENT = places_client
SERVER = places_server

CLIENTA = airport_client
SERVERA = airport_server

SOURCES_CLNT.cpp = 
SOURCES_CLNT.h = 
SOURCES_SVC.cpp = 
SOURCES_SVC.h = 
SOURCES.x = places.x

# Airport items
SOURCESA_CLNT.cpp =
SOURCESA_CLNT.h =
SOURCESA_CLNT.cpp =
SOURCESA_SVC.h =
SOURCESA.x = airport.x

# places required files
TARGETS_SVC.cpp = places_svc.cpp places_server.cpp places_xdr.cpp airport_xdr.cpp airport_clnt.cpp PreFixTree.cpp
TARGETS_CLNT.cpp = places_clnt.cpp places_client.cpp places_xdr.cpp 
TARGETS = airport.h  places.h places_xdr.cpp places_clnt.cpp places_svc.cpp places_client.cpp places_server.cpp

#airport required files
TARGETSA_SVC.cpp = airport_svc.cpp airport_server.cpp airport_xdr.cpp
TARGETSA_CLNT.cpp = airport_clnt.cpp airport_client.cpp airport_xdr.cpp
TARGETSA = airport.h airport_xdr.cpp airport_clnt.cpp airport_svc.cpp airport_client.cpp airport_server.cpp

OBJECTS_CLNT = $(SOURCES_CLNT.cpp:%.cpp=%.o)  $(TARGETS_CLNT.cpp:%.cpp=%.o)
OBJECTS_SVC = $(SOURCES_SVC.cpp:%.cpp=%.o) $(TARGETS_SVC.cpp:%.cpp=%.o)

# This is the commands for airport server
OBJECTSA_CLNT = $(SOURCESA_CLNT.cpp:%.cpp=%.o)$(TARGETSA_CLNT.cpp:%.cpp=%.o)
OBJECTSA_SVC = $(SOURCESA_SVC.cpp:%.cpp=%.o)$(TARGETSA_SVC.cpp:%.cpp=%.o)

# Compiler flags 

CFLAGS += -g
LDLIBS += -lnsl
RPCGENFLAGS = 

# Targets 

all : $(CLIENT) $(SERVER) $(SERVERA)

#$(TARGETS) : $(SOURCES.x) 
#	rpcgen $(RPCGENFLAGS) $(SOURCES.x)

# places stuff
$(OBJECTS_CLNT) :  $(SOURCES_CLNT.cpp) $(SOURCES_CLNT.h) $(TARGETS_CLNT.cpp)


$(OBJECTS_SVC) : $(SOURCES_SVC.cpp) $(SOURCES_SVC.h) $(TARGETS_SVC.cpp) 

# server stuff
$(OBJECTSA_CLNT) : $(SOURCESA_CLNT.cpp) $(SOURCESA_CLNT.h) $(TARGETSA_CLNT.cpp) 

$(OBJECTSA_SVC) : $(SOURCESA_SVC.cpp) $(SOURCESA_SVC.h) $(TARGETSA_SVC.cpp) 

$(CLIENT) : $(OBJECTS_CLNT) 
	$(LINK.cc) -std=c++11 -o $(CLIENT) $(OBJECTS_CLNT) $(LDLIBS) 

#Airport client
$(CLIENTA) : $(OBJECTSA_CLNT) 
	$(LINK.cc) -std=c++11 -o $(CLIENTA) $(OBJECTSA_CLNT) $(LDLIBS) 

$(SERVER) : $(OBJECTS_SVC) 
	$(LINK.cc) -std=c++11 -o $(SERVER) $(OBJECTS_SVC) $(LDLIBS)

#Airport server	
$(SERVERA) : $(OBJECTSA_SVC) 
	$(LINK.cc) -std=c++11 -o $(SERVERA) $(OBJECTSA_SVC) $(LDLIBS)

PreFixTree.o : PreFixTree.cpp
	$(LINK.cc) -std=c++11 -c -o PreFixTree.o PreFixTree.cpp

places_client.o : places_client.cpp
	$(LINK.cc) -std=c++11 -c -o places_client.o places_client.cpp

places_server.o : places_server.cpp
	$(LINK.cc) -std=c++11 -c -o places_server.o places_server.cpp

